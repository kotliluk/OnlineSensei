{"version":3,"sources":["logic/translation/en.ts","redux/page/state.ts","logic/localStorage/access.ts","logic/validation/validators.ts","logic/translation/cs.ts","logic/translation/index.ts","utils/function.ts","redux/page/utils.ts","types/theme.ts","redux/page/actions.ts","types/beepType.ts","redux/reactions/state.ts","redux/reactions/utils.ts","utils/color.ts","redux/reactions/actions.ts","redux/kumiteTimer/state.ts","redux/kumiteTimer/utils.ts","redux/kumiteTimer/actions.ts","redux/store.ts","redux/kumiteTimer/reducer.ts","redux/page/reducer.ts","redux/reactions/reducer.ts","components/atoms/checkBox/CheckBox.tsx","redux/useSelector.ts","redux/page/selector.ts","redux/useDispatch.ts","components/atoms/select/Select.tsx","config.ts","components/common/pageHeader/PageHeader.tsx","pages/main/MainPage.tsx","redux/reactions/selector.ts","utils/random.ts","logic/timing/pausableTimeout.ts","components/atoms/button/Button.tsx","logic/audio/player.ts","logic/audio/beep.ts","components/reactions/reactionsScreen/ReactionsScreen.tsx","components/atoms/input/Input.tsx","components/atoms/input/NumberInput.tsx","utils/number.ts","logic/hooks/useValidatedState.ts","utils/error.ts","components/atoms/input/RangeInput.tsx","assets/svg/audio_off.svg","components/icons/AudioOff.tsx","assets/svg/audio_on.svg","components/icons/AudioOn.tsx","components/atoms/input/VolumeInput.tsx","components/atoms/input/CounterInput.tsx","components/reactions/reactionsSetUpScreen/ReactionsSetUpScreen.tsx","pages/reactions/ReactionsPage.tsx","redux/kumiteTimer/selector.ts","components/kumiteTimer/kumiteTimerSetUpScreen/KumiteTimerSetUpScreen.tsx","logic/timing/pausableInterval.ts","components/kumiteTimer/fouls/Fouls.tsx","components/kumiteTimer/score/Score.tsx","components/kumiteTimer/fighterStats/FighterStats.tsx","logic/hooks/useControledState.ts","utils/time.ts","components/kumiteTimer/fightStats/FightStats.tsx","components/kumiteTimer/kumiteTimerScreen/KumiteTimerScreen.tsx","logic/audio/kumite.ts","pages/kumiteTimer/KumiteTimerPage.tsx","App.tsx","index.tsx"],"names":["EN","language","languageShort","common","darkTheme","lightTheme","time","fight","back","finished","pause","paused","reset","resume","start","stop","mainPage","appIntroduction","availableFeatures","reactions","annotation","link","kumiteTimer","setUpScreen","heading","rounds","label","error","signalDuration","minInterval","rangeError","maxInterval","signalCount","signalColor","sound","noAudio","playScreen","round","duration","atoshibaraku","initialState","theme","translation","getValidatedNumberFromLS","key","validator","defaultValue","undefined","item","localStorage","getItem","num","Number","setItem","toString","getValidatedTypeFromLS","saveToLS","value","isBetweenValidator","bounds","min","max","anythingIsValid","_","CS","getTranslation","lang","getAllTranslations","insertWords","words","map","word","reduce","transl","i","replace","emptyFunc","VALIDATOR","LS_KEYS","LS_ACCESS","get","set","INIT_PAGE","SET_THEME","SET_TRANSLATION","NO_BEEP","BEEP_A","BeepTypes","BEEP_DURATIONS","getPreferredDuration","beepType","preferred","durations","prev","curr","getBeepName","isActual","signalColors","audioSound","audioVolume","LIMITS","arr","Array","isArray","length","agg","cur","exec","includes","obj","JSON","parse","stringify","getValidatedObjectFromLS","INIT_REACTIONS","SET_REACTIONS","SET_NOT_ACTUAL_REACTIONS","setNotActualReactions","type","payload","INIT_KUMITE_TIMER","SET_KUMITE_TIMER","SET_NOT_ACTUAL_KUMITE_TIMER","setNotActualKumiteTimer","store","configureStore","reducer","combineReducers","state","action","page","middleware","getDefaultMiddleware","serializableCheck","dispatch","initReactions","initPage","CheckBox","props","checked","onChange","handleChange","useCallback","e","target","useSelector","useReduxSelector","selectTheme","selectTranslation","useDispatch","useReduxDispatch","Select","selected","values","id","className","v","text","config","PageHeader","useState","allLanguages","handleLanguageChange","setTranslation","handleThemeChange","isDark","setTheme","to","MainPage","t","selectReactionsIsActual","selectReactionsRounds","selectReactionsSignalDuration","selectReactionsMinInterval","selectReactionsMaxInterval","selectReactionsSignalCount","selectReactionsSignalColors","selectReactionsAudioSound","selectReactionsAudioVolume","getRandomInt","Math","ceil","floor","random","PausableTimeout","callback","ms","timeoutTime","remainingTime","timeoutId","lastStart","this","restart","clearTimeout","elapsed","Date","getTime","setTimeout","newCallback","newMs","Button","children","other","playAudio","file","volume","a","Audio","play","catch","console","loadAudio","load","preloadBeep","forEach","ReactionsScreen","setRound","phase","setPhase","isPaused","setIsPaused","curSignal","setCurSignal","timeoutObj","history","useHistory","handleTogglePause","handleReset","handleGoBack","useEffect","preferredMaxDuration","playBeep","push","ct","inProgress","slice","color","style","backgroundColor","onClick","disabled","Input","invalid","errorMessage","NumberInput","newValue","str","defaultInt","parsed","parseInt","isNaN","parseIntOrDefault","useValidatedState","initialValue","setValue","isValid","setIsValid","joinErrorMessages","messages","ret","msg","RangeInput","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","fill","fillRule","SvgAudioOff","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","width","height","viewBox","ref","ForwardRef","AudioOff","SvgAudioOn","AudioOn","VolumeInput","inputClassName","buttonClassName","wrapperClassName","lastNonZeroValue","setLastNonZeroValue","handleToggleMuted","handleVolumeChange","CounterInput","minusBtnClassName","plusBtnClassName","incr","ReactionsSetUpScreen","initRounds","initSignalDuration","initMinInterval","initMaxInterval","initSignalCount","initSignalColors","initAudioSound","initAudioVolume","setRounds","isValidRounds","signal","setSignal","isValidSignal","setMinInterval","isValidMinInterval","setMaxInterval","isValidMaxInterval","isValidIntervalRange","setIsValidIntervalRange","setSignalCount","setSignalColors","setAudioSound","setAudioVolume","handleMinIntervalChange","handleMaxIntervalChange","handleSignalColorChange","index","prevColors","newColors","handleAudioChange","handleStart","setReactions","handleBack","ReactionsPage","path","exact","selectKumiteTimerIsActual","selectKumiteTimerDuration","selectKumiteTimerAtoshibaraku","KumiteTimerSetUpScreen","initDuration","initAtoshibaraku","setDuration","isValidDuration","setAtoshibaraku","isValidAtoshibaraku","setKumiteTimer","PausableInterval","intervalTime","intervalId","clearInterval","setInterval","Fouls","isRed","fouls","Score","score","FighterStats","foulsOne","foulsTwo","onScoreChange","onFoulsOneChange","onFoulsTwoChange","useControlledState","parseTimeFromSeconds","sec","minutes","seconds","padStart","FightStats","senchu","timeButtonsDisabled","onTimeChange","onTimeReset","onSenchuChange","toLowerCase","KumiteTimerScreen","setTime","scoreRed","setScoreRed","foulsOneRed","setFoulsOneRed","foulsTwoRed","setFoulsTwoRed","scoreBlue","setScoreBlue","foulsOneBlue","setFoulsOneBlue","foulsTwoBlue","setFoulsTwoBlue","setSenchu","handleManualTimeChange","newTime","handleSenchuChange","renderRedData","renderBlueData","dangerousButtonsDisabled","KumiteTimerPage","App","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e57e1f47.chunk.js","sourcesContent":["import { Translation } from './translation'\n\n\nexport const EN: Translation = {\n  language: 'English',\n  languageShort: 'EN',\n  common: {\n    darkTheme: 'Dark theme',\n    lightTheme: 'Light theme',\n    language: 'Language',\n    time: 'Time',\n    fight: 'Fight',\n    // user actions\n    back: 'Back',\n    finished: 'Finished',\n    pause: 'Pause',\n    paused: 'Paused',\n    reset: 'Reset',\n    resume: 'Resume',\n    start: 'Start',\n    stop: 'Stop',\n  },\n  mainPage: {\n    appIntroduction: 'Train alone or with friends with OnlineSensei!',\n    availableFeatures: 'Available features',\n    reactions: {\n      annotation: 'Train your reactions with customizable timer with random signals',\n      link: 'Reactions',\n    },\n    kumiteTimer: {\n      annotation: 'Take your friend for kumite fight with easy-to-use kumite timer',\n      link: 'Kumite timer',\n    },\n  },\n  reactions: {\n    setUpScreen: {\n      heading: 'Reactions',\n      rounds: {\n        label: 'Rounds',\n        // 2 params\n        error: 'Rounds must be set between __{1}__ and __{2}__.',\n      },\n      signalDuration: {\n        label: 'Signal duration (ms)',\n        // 2 params\n        error: 'Signal duration must be set between __{1}__ and __{2}__.',\n      },\n      minInterval: {\n        label: 'Minimal interval (ms)',\n        // 2 params\n        error: 'Minimal interval must be set between __{1}__ and __{2}__.',\n        rangeError: 'Minimal interval must be less or equal to maximal.',\n      },\n      maxInterval: {\n        label: 'Maximal interval (ms)',\n        // 2 params\n        error: 'Maximal interval must be set between __{1}__ and __{2}__.',\n        rangeError: 'Maximal interval must be greater or equal to minimal.',\n      },\n      signalCount: {\n        label: 'Signal boxes count',\n      },\n      signalColor: {\n        label: 'Signal color',\n      },\n      sound: {\n        label: 'Sound',\n        noAudio: 'No audio',\n      },\n    },\n    playScreen: {\n      heading: 'Reactions',\n      round: 'Round',\n    },\n  },\n  kumiteTimer: {\n    setUpScreen: {\n      heading: 'Kumite Timer',\n      duration: {\n        label: 'Fight duration (s)',\n        // 2 params\n        error: 'Duration must be set between __{1}__ and __{2}__.',\n      },\n      atoshibaraku: {\n        label: 'Atoshibaraku (s)',\n        // 2 params\n        error: 'Atoshibaraku must be set between __{1}__ and __{2}__.',\n      },\n    },\n    playScreen: {\n      heading: 'Kumite Timer',\n    },\n  },\n}\n","import { Theme } from '../../types/theme'\nimport { Translation } from '../../logic/translation/translation'\nimport { EN } from '../../logic/translation/en'\nimport { Language } from '../../logic/translation'\n\n\nexport interface State {\n  theme: Theme\n  language: Language\n  translation: Translation\n}\n\nexport const initialState: State = {\n  theme: 'light',\n  language: 'EN',\n  translation: EN,\n}\n","import { Predicate } from '../../utils/function'\n\n\n/**\n * Returns parsed number if the key exists in local storage and parsed number is valid.\n * If not, saves the given default value in local storage and returns it.\n */\nexport const getValidatedNumberFromLS = (\n  key: string | undefined,\n  validator: Predicate<number>,\n  defaultValue: number,\n): number => {\n  if (key === undefined) {\n    return defaultValue\n  }\n\n  const item = localStorage.getItem(key)\n  const num = Number(item)\n\n  if (item === null || !validator(num)) {\n    localStorage.setItem(key, defaultValue.toString())\n    return defaultValue\n  }\n\n  return num\n}\n\n/**\n * Returns saved item if the key exists in local storage and the item is valid.\n * If not, saves the given default value in local storage and returns it.\n */\nexport const getValidatedStringFromLS = (\n  key: string | undefined,\n  validator: Predicate<string>,\n  defaultValue: string,\n): string => {\n  if (key === undefined) {\n    return defaultValue\n  }\n\n  const item = localStorage.getItem(key)\n\n  if (item === null || !validator(item)) {\n    localStorage.setItem(key, defaultValue)\n    return defaultValue\n  }\n\n  return item\n}\n\n/**\n * Returns saved item typed as given type if the key exists in local storage and the item is valid.\n * If not, saves the given default value in local storage and returns it.\n */\nexport const getValidatedTypeFromLS = <T extends string>(\n  key: string | undefined,\n  validator: Predicate<T>,\n  defaultValue: T,\n): T => {\n  if (key === undefined) {\n    return defaultValue\n  }\n\n  const item = localStorage.getItem(key)\n\n  if (item === null || !validator(item as T)) {\n    localStorage.setItem(key, defaultValue)\n    return defaultValue\n  }\n\n  return item as T\n}\n\n/**\n * Returns saved item typed as given object type if the key exists in local storage and the item is valid.\n * If not, saves the given default value in local storage and returns it.\n */\nexport const getValidatedObjectFromLS = <T extends object>(\n  key: string | undefined,\n  validator: Predicate<T>,\n  defaultValue: T,\n): T => {\n  if (key === undefined) {\n    return defaultValue\n  }\n\n  try {\n    const item = localStorage.getItem(key)\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const obj = JSON.parse(item ?? '{}')\n\n    if (item !== null && validator(obj)) {\n      return obj as T\n    }\n  } catch (_) {}\n\n  localStorage.setItem(key, JSON.stringify(defaultValue))\n  return defaultValue\n}\n\n/**\n * Saves given key-value pair into local storage if the key is defined.\n */\nexport const saveToLS = (key: string | undefined, value: string | number): void => {\n  if (key !== undefined) {\n    localStorage.setItem(key, value.toString())\n  }\n}\n","import { Predicate } from '../../utils/function'\nimport { Bounds } from './types'\n\n\nexport const isBetweenValidator = (bounds: Bounds): Predicate<number> => {\n  return (num: number) => bounds.min <= num && num <= bounds.max\n}\n\nexport const isBetween = (num: number, x: number, y: number): boolean => {\n  return x <= num && num <= y\n}\n\nexport const anythingIsValid = <T extends unknown>(_: T): boolean => true\n","import { Translation } from './translation'\n\n\nexport const CS: Translation = {\n  language: 'Česky',\n  languageShort: 'CS',\n  common: {\n    darkTheme: 'Tmavý motiv',\n    lightTheme: 'Světlý motiv',\n    language: 'Jazyk',\n    time: 'Čas',\n    fight: 'Zápas',\n    // user actions\n    back: 'Zpět',\n    finished: 'Hotovo',\n    pause: 'Pauza',\n    paused: 'Pozastaveno',\n    reset: 'Reset',\n    resume: 'Pokračovat',\n    start: 'Start',\n    stop: 'Stop',\n  },\n  mainPage: {\n    appIntroduction: 'Trénuj sám a nebo s přáteli s OnlineSensei!',\n    availableFeatures: 'Dostupné funkce',\n    reactions: {\n      annotation: 'Trénuj své reakce s přizpůsobitelným časovačem s náhodnými signály',\n      link: 'Reakce',\n    },\n    kumiteTimer: {\n      annotation: 'Dej si s kamarádem kumite zápas díky jednoduché kumite časomíře',\n      link: 'Kumite časomíra',\n    },\n  },\n  reactions: {\n    setUpScreen: {\n      heading: 'Reakce',\n      rounds: {\n        label: 'Kola',\n        // 2 params\n        error: 'Kol musí být mezi __{1}__ a __{2}__.',\n      },\n      signalDuration: {\n        label: 'Délka signálu (ms)',\n        // 2 params\n        error: 'Délka signálu musí být mezi __{1}__ a __{2}__ ms.',\n      },\n      minInterval: {\n        label: 'Minimální interval (ms)',\n        // 2 params\n        error: 'Minimální délka intervalu musí být mezi __{1}__ a __{2}__ ms.',\n        rangeError: 'Minimální interval nesmí být větší než maximální.',\n      },\n      maxInterval: {\n        label: 'Maximální interval (ms)',\n        // 2 params\n        error: 'Maximální délka intervalu musí být mezi __{1}__ a __{2}__ ms.',\n        rangeError: 'Maximální interval nesmí být menší než minimální.',\n      },\n      signalCount: {\n        label: 'Počet terčů',\n      },\n      signalColor: {\n        label: 'Barva signálu',\n      },\n      sound: {\n        label: 'Zvuk',\n        noAudio: 'Žádný zvuk',\n      },\n    },\n    playScreen: {\n      heading: 'Reakce',\n      round: 'Kolo',\n    },\n  },\n  kumiteTimer: {\n    setUpScreen: {\n      heading: 'Kumite Časomíra',\n      duration: {\n        label: 'Délka zápasu (s)',\n        // 2 params\n        error: 'Délka zápasu musí být mezi __{1}__ a __{2}__ ms.',\n      },\n      atoshibaraku: {\n        label: 'Atoshibaraku (s)',\n        // 2 params\n        error: 'Atoshibaraku musí být mezi __{1}__ a __{2}__ ms.',\n      },\n    },\n    playScreen: {\n      heading: 'Kumite Časomíra',\n    },\n  },\n}\n","import { EN } from './en'\nimport { CS } from './cs'\nimport { Translation } from './translation'\n\n\nexport type Language = 'EN' | 'CS'\n\nexport const isValidLanguage = (value: any): boolean => {\n  return value === 'EN' || value === 'CS'\n}\n\nexport const getTranslation = (lang: Language): Translation => {\n  switch (lang) {\n    case 'EN':\n      return EN\n    case 'CS':\n      return CS\n  }\n}\n\nexport const getAllTranslations = (): Translation[] => {\n  return [EN, CS]\n}\n\nexport const insertWords = (translation: string, ...words: (string | number)[]): string => {\n  return words\n    .map(word => word.toString())\n    .reduce((transl, word, i) => transl.replace(`__{${i + 1}}__`, word), translation)\n}\n","export type Func<T = void> = () => T\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const emptyFunc: Func = () => {}\n\nexport type Predicate<T> = (value: T) => boolean\n\nexport type NonFunc<T> = T extends (() => any) ? never : T\n","import { Validator } from '../../logic/validation/types'\nimport { isThemeType } from '../../types/theme'\nimport { LSAccessWrapper, LSMapper } from '../../logic/localStorage/types'\nimport { getValidatedTypeFromLS, saveToLS } from '../../logic/localStorage/access'\nimport { initialState, State } from './state'\nimport { anythingIsValid } from '../../logic/validation/validators'\nimport { isValidLanguage } from '../../logic/translation'\nimport { emptyFunc } from '../../utils/function'\n\n\nexport const VALIDATOR: Validator<State> = {\n  theme: isThemeType,\n  language: isValidLanguage,\n  translation: anythingIsValid,\n}\n\nexport const LS_KEYS: LSMapper<State> = {\n  theme: 'PAGE__THEME',\n  language: 'PAGE__LANG',\n}\n\nexport const LS_ACCESS: LSAccessWrapper<State> = {\n  theme: {\n    get: () => getValidatedTypeFromLS(LS_KEYS.theme, VALIDATOR.theme, initialState.theme),\n    set: (value) => saveToLS(LS_KEYS.theme, value),\n  },\n  language: {\n    get: () => getValidatedTypeFromLS(LS_KEYS.language, VALIDATOR.language, initialState.language),\n    set: (value) => saveToLS(LS_KEYS.language, value),\n  },\n  translation: {\n    get: () => initialState.translation,\n    set: emptyFunc,\n  },\n}\n","export type Theme = 'light' | 'dark'\n\nexport const isThemeType = (value: any): boolean => {\n  return value === 'light' || value === 'dark'\n}\n","import { Action } from 'redux'\nimport { Theme } from '../../types/theme'\nimport { LS_ACCESS } from './utils'\nimport { getTranslation, Language } from '../../logic/translation'\nimport { Translation } from '../../logic/translation/translation'\n\n\nexport type Actions = InitPage | SetTheme | SetTranslation\n\n/** ******************* Init page state *********************/\n\nexport const INIT_PAGE = 'page/INIT_PAGE'\n\ninterface InitPage extends Action<typeof INIT_PAGE> {\n  payload: {\n    theme: Theme,\n    language: Language,\n    translation: Translation,\n  }\n}\n\nexport const initPage = (): InitPage => {\n  const theme = LS_ACCESS.theme.get()\n  const language = LS_ACCESS.language.get()\n  const translation = getTranslation(language)\n\n  return {\n    type: INIT_PAGE,\n    payload: {\n      theme,\n      language,\n      translation,\n    },\n  }\n}\n\n/** ******************* Set theme state *********************/\n\nexport const SET_THEME = 'page/SET_THEME'\n\ninterface SetTheme extends Action<typeof SET_THEME> {\n  payload: {\n    theme: Theme,\n  }\n}\n\nexport const setTheme = (theme: Theme): SetTheme => {\n  LS_ACCESS.theme.set(theme)\n\n  return {\n    type: SET_THEME,\n    payload: {\n      theme,\n    },\n  }\n}\n\n/** ******************* Set language *********************/\n\nexport const SET_TRANSLATION = 'page/SET_TRANSLATION'\n\ninterface SetTranslation extends Action<typeof SET_TRANSLATION> {\n  payload: {\n    language: Language,\n    translation: Translation,\n  }\n}\n\nexport const setTranslation = (language: Language): SetTranslation => {\n  LS_ACCESS.language.set(language)\n  const translation = getTranslation(language)\n\n  return {\n    type: SET_TRANSLATION,\n    payload: {\n      language,\n      translation,\n    },\n  }\n}\n","export const NO_BEEP = 'NO_BEEP'\nexport const BEEP_A = 'BEEP_A'\n\nexport type BeepType = typeof NO_BEEP | typeof BEEP_A\n\nexport const BeepTypes = [NO_BEEP, BEEP_A] as const\n\ntype BeepDurations = {\n  [T in BeepType]: number[]\n}\n\nexport const BEEP_DURATIONS: BeepDurations = {\n  NO_BEEP: [],\n  BEEP_A: [100, 200, 300, 400, 500],\n}\n\nexport const isBeepType = (value: any): boolean => {\n  return BeepTypes.includes(value)\n}\n\nexport const getPreferredDuration = (beepType: BeepType, preferred: number): number => {\n  const durations = BEEP_DURATIONS[beepType]\n  return durations.reduce((prev, curr) => curr < preferred ? curr : prev, durations[0])\n}\n\nexport const getBeepName = (beepType: BeepType): string => {\n  switch (beepType) {\n    case 'NO_BEEP':\n      return 'No beep'\n    case 'BEEP_A':\n      return 'Beep 1'\n  }\n}\n","import { BeepType, NO_BEEP } from '../../types/beepType'\n\n\nexport interface State {\n  isActual: boolean\n  rounds: number\n  signalDuration: number\n  minInterval: number\n  maxInterval: number\n  signalCount: number\n  signalColors: string[]\n  audioSound: BeepType\n  audioVolume: number\n}\n\nexport const initialState: State = {\n  isActual: false,\n  rounds: 10,\n  signalDuration: 200,\n  minInterval: 2000,\n  maxInterval: 4000,\n  signalCount: 2,\n  signalColors: ['#ff0000', '#0000ff', '#35d600', '#ffc800'],\n  audioSound: NO_BEEP,\n  audioVolume: 1,\n}\n","import { LSAccessWrapper, LSMapper } from '../../logic/localStorage/types'\nimport { emptyFunc } from '../../utils/function'\nimport {\n  getValidatedNumberFromLS, getValidatedObjectFromLS,\n  getValidatedTypeFromLS,\n  saveToLS,\n} from '../../logic/localStorage/access'\nimport { Limits, Validator } from '../../logic/validation/types'\nimport { anythingIsValid, isBetweenValidator } from '../../logic/validation/validators'\nimport { isHexColor } from '../../utils/color'\nimport { isBeepType } from '../../types/beepType'\nimport { initialState, State } from './state'\n\n\nexport const LIMITS: Limits<State> = {\n  rounds: { min: 1, max: 10000 },\n  signalDuration: { min: 50, max: 10000 },\n  minInterval: { min: 100, max: 100000 },\n  maxInterval: { min: 100, max: 100000 },\n  signalCount: { min: 1, max: 4 },\n  audioVolume: { min: 0, max: 1 },\n}\n\nexport const VALIDATOR: Validator<State> = {\n  isActual: anythingIsValid,\n  rounds: isBetweenValidator(LIMITS.rounds),\n  signalDuration: isBetweenValidator(LIMITS.signalDuration),\n  minInterval: isBetweenValidator(LIMITS.minInterval),\n  maxInterval: isBetweenValidator(LIMITS.maxInterval),\n  signalCount: isBetweenValidator(LIMITS.signalCount),\n  signalColors: (arr) => {\n    return Array.isArray(arr)\n      && arr.length === LIMITS.signalCount.max\n      && arr.reduce<boolean>((agg, cur) => agg && isHexColor(cur), true)\n  },\n  audioSound: isBeepType,\n  audioVolume: isBetweenValidator(LIMITS.audioVolume),\n}\n\nexport const LS_KEYS: LSMapper<State> = {\n  rounds: 'REACTIONS__ROUNDS',\n  signalDuration: 'REACTIONS__SIGNAL_DURATION',\n  minInterval: 'REACTIONS__MIN_INTERVAL',\n  maxInterval: 'REACTIONS__MAX_INTERVAL',\n  signalCount: 'REACTIONS__SIGNAL_COUNT',\n  signalColors: 'REACTIONS__SIGNAL_COLORS',\n  audioSound: 'REACTIONS__AUDIO_SOUND',\n  audioVolume: 'REACTIONS__AUDIO_VOLUME',\n}\n\nexport const LS_ACCESS: LSAccessWrapper<State> = {\n  isActual: {\n    get: () => initialState.isActual,\n    set: emptyFunc,\n  },\n  rounds: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.rounds, VALIDATOR.rounds, initialState.rounds),\n    set: (value) => saveToLS(LS_KEYS.rounds, value),\n  },\n  signalDuration: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.signalDuration, VALIDATOR.signalDuration, initialState.signalDuration),\n    set: (value) => saveToLS(LS_KEYS.signalDuration, value),\n  },\n  minInterval: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.minInterval, VALIDATOR.minInterval, initialState.minInterval),\n    set: (value) => saveToLS(LS_KEYS.minInterval, value),\n  },\n  maxInterval: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.maxInterval, VALIDATOR.maxInterval, initialState.maxInterval),\n    set: (value) => saveToLS(LS_KEYS.maxInterval, value),\n  },\n  signalCount: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.signalCount, VALIDATOR.signalCount, initialState.signalCount),\n    set: (value) => saveToLS(LS_KEYS.signalCount, value),\n  },\n  signalColors: {\n    get: () => getValidatedObjectFromLS(LS_KEYS.signalColors, VALIDATOR.signalColors, initialState.signalColors),\n    set: (value) => saveToLS(LS_KEYS.signalColors, JSON.stringify(value)),\n  },\n  audioSound: {\n    get: () => getValidatedTypeFromLS(LS_KEYS.audioSound, VALIDATOR.audioSound, initialState.audioSound),\n    set: (value) => saveToLS(LS_KEYS.audioSound, value),\n  },\n  audioVolume: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.audioVolume, VALIDATOR.audioVolume, initialState.audioVolume),\n    set: (value) => saveToLS(LS_KEYS.audioVolume, value),\n  },\n}\n","/**\n * Returns true if the given string is in '#HHH' or '#HHH' format.\n */\nexport const isHexColor = (str: string): boolean => {\n  return /^#([0-9a-f]{3}){1,2}$/i.exec(str) !== null\n}\n","import { Action } from 'redux'\nimport { getValidatedNumberFromLS } from '../../logic/localStorage/access'\nimport { initialState } from './state'\nimport { BeepType } from '../../types/beepType'\nimport { LS_ACCESS, LS_KEYS, VALIDATOR } from './utils'\n\n\nexport type Actions = InitReactions | SetReactions | SetNotActualReactions\n\n/** ******************* Init reactions state from local storage *********************/\n\nexport const INIT_REACTIONS = 'reactions/INIT_REACTIONS'\n\ninterface InitReactions extends Action<typeof INIT_REACTIONS> {\n  payload: {\n    isActual: boolean,\n    rounds: number,\n    signalDuration: number,\n    minInterval: number,\n    maxInterval: number,\n    signalCount: number,\n    signalColors: string[],\n    audioSound: BeepType,\n    audioVolume: number,\n  }\n}\n\nexport const initReactions = (): InitReactions => {\n  const rounds = getValidatedNumberFromLS(LS_KEYS.rounds, VALIDATOR.rounds, initialState.rounds)\n  const signalDuration = getValidatedNumberFromLS(\n    LS_KEYS.signalDuration, VALIDATOR.signalDuration, initialState.signalDuration,\n  )\n  const minInterval = LS_ACCESS.minInterval.get()\n  const maxInterval = LS_ACCESS.maxInterval.get()\n  const signalCount = LS_ACCESS.signalCount.get()\n  const signalColors = LS_ACCESS.signalColors.get()\n  const audioSound = LS_ACCESS.audioSound.get()\n  const audioVolume = LS_ACCESS.audioVolume.get()\n\n  return {\n    type: INIT_REACTIONS,\n    payload: {\n      isActual: false,\n      rounds,\n      signalDuration,\n      minInterval,\n      maxInterval,\n      signalCount,\n      signalColors,\n      audioSound,\n      audioVolume,\n    },\n  }\n}\n\n/** ******************* Set reactions state *********************/\n\nexport const SET_REACTIONS = 'reactions/SET_REACTIONS'\n\ninterface SetReactions extends Action<typeof SET_REACTIONS> {\n  payload: {\n    rounds: number,\n    signalDuration: number,\n    minInterval: number,\n    maxInterval: number,\n    signalCount: number,\n    signalColors: string[],\n    audioSound: BeepType,\n    audioVolume: number,\n  }\n}\n\nexport const setReactions = (\n  rounds: number,\n  signalDuration: number,\n  minInterval: number,\n  maxInterval: number,\n  signalCount: number,\n  signalColors: string[],\n  audioSound: BeepType,\n  audioVolume: number,\n): SetReactions => {\n  LS_ACCESS.rounds.set(rounds)\n  LS_ACCESS.signalDuration.set(signalDuration)\n  LS_ACCESS.minInterval.set(minInterval)\n  LS_ACCESS.maxInterval.set(maxInterval)\n  LS_ACCESS.signalCount.set(signalCount)\n  LS_ACCESS.signalColors.set(signalColors)\n  LS_ACCESS.audioSound.set(audioSound)\n  LS_ACCESS.audioVolume.set(audioVolume)\n\n  return {\n    type: SET_REACTIONS,\n    payload: {\n      rounds,\n      signalDuration,\n      minInterval,\n      maxInterval,\n      signalCount,\n      signalColors,\n      audioSound,\n      audioVolume,\n    },\n  }\n}\n\n/** ******************* Set reactions as not actual *********************/\n\nexport const SET_NOT_ACTUAL_REACTIONS = 'reactions/SET_NOT_ACTUAL_REACTIONS'\n\ninterface SetNotActualReactions extends Action<typeof SET_NOT_ACTUAL_REACTIONS> {\n  payload: { }\n}\n\nexport const setNotActualReactions = (): SetNotActualReactions => {\n  return {\n    type: SET_NOT_ACTUAL_REACTIONS,\n    payload: { },\n  }\n}\n","export interface State {\n  isActual: boolean\n  duration: number\n  atoshibaraku: number\n}\n\nexport const initialState: State = {\n  isActual: false,\n  duration: 120,\n  atoshibaraku: 30,\n}\n","import { Limits, Validator } from '../../logic/validation/types'\nimport { LSAccessWrapper, LSMapper } from '../../logic/localStorage/types'\nimport { getValidatedNumberFromLS, saveToLS } from '../../logic/localStorage/access'\nimport { initialState, State } from './state'\nimport { anythingIsValid, isBetweenValidator } from '../../logic/validation/validators'\nimport { emptyFunc } from '../../utils/function'\n\n\nexport const LIMITS: Limits<State> = {\n  duration: { min: 30, max: 300 },\n  atoshibaraku: { min: 5, max: 60 },\n}\n\nexport const VALIDATOR: Validator<State> = {\n  isActual: anythingIsValid,\n  duration: isBetweenValidator(LIMITS.duration),\n  atoshibaraku: isBetweenValidator(LIMITS.atoshibaraku),\n}\n\nexport const LS_KEYS: LSMapper<State> = {\n  duration: 'KUMITE_TIMER__DURATION',\n  atoshibaraku: 'KUMITE_TIMER__ATOSHIBARAKU',\n}\n\nexport const LS_ACCESS: LSAccessWrapper<State> = {\n  isActual: {\n    get: () => initialState.isActual,\n    set: emptyFunc,\n  },\n  duration: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.duration, VALIDATOR.duration, initialState.duration),\n    set: (value) => saveToLS(LS_KEYS.duration, value),\n  },\n  atoshibaraku: {\n    get: () => getValidatedNumberFromLS(LS_KEYS.atoshibaraku, VALIDATOR.atoshibaraku, initialState.atoshibaraku),\n    set: (value) => saveToLS(LS_KEYS.atoshibaraku, value),\n  },\n}\n","import { Action } from 'redux'\nimport { LS_ACCESS } from './utils'\n\n\nexport type Actions = InitKumiteTimer | SetKumiteTimer | SetNotActualKumiteTimer\n\n/** ******************* Init kumite timer state *********************/\n\nexport const INIT_KUMITE_TIMER = 'kumiteTimer/INIT_KUMITE_TIMER'\n\ninterface InitKumiteTimer extends Action<typeof INIT_KUMITE_TIMER> {\n  payload: {\n    isActual: boolean,\n    duration: number,\n    atoshibaraku: number,\n  }\n}\n\nexport const initKumiteTimer = (): InitKumiteTimer => {\n  const duration = LS_ACCESS.duration.get()\n  const atoshibaraku = LS_ACCESS.atoshibaraku.get()\n\n  return {\n    type: INIT_KUMITE_TIMER,\n    payload: {\n      isActual: false,\n      duration,\n      atoshibaraku,\n    },\n  }\n}\n\n/** ******************* Set kumite timer state *********************/\n\nexport const SET_KUMITE_TIMER = 'kumiteTimer/SET_KUMITE_TIMER'\n\ninterface SetKumiteTimer extends Action<typeof SET_KUMITE_TIMER> {\n  payload: {\n    duration: number,\n    atoshibaraku: number,\n  }\n}\n\nexport const setKumiteTimer = (duration: number, atoshibaraku: number): SetKumiteTimer => {\n  LS_ACCESS.duration.set(duration)\n  LS_ACCESS.atoshibaraku.set(atoshibaraku)\n\n  return {\n    type: SET_KUMITE_TIMER,\n    payload: {\n      duration,\n      atoshibaraku,\n    },\n  }\n}\n\n/** ******************* Set kumite timer as not actual *********************/\n\nexport const SET_NOT_ACTUAL_KUMITE_TIMER = 'kumiteTimer/SET_NOT_ACTUAL_KUMITE_TIMER'\n\ninterface SetNotActualKumiteTimer extends Action<typeof SET_NOT_ACTUAL_KUMITE_TIMER> {\n  payload: { }\n}\n\nexport const setNotActualKumiteTimer = (): SetNotActualKumiteTimer => {\n  return {\n    type: SET_NOT_ACTUAL_KUMITE_TIMER,\n    payload: { },\n  }\n}\n\n","import { configureStore, getDefaultMiddleware, combineReducers } from '@reduxjs/toolkit'\nimport { reducer as pageReducer } from './page/reducer'\nimport { reducer as reactionsReducer } from './reactions/reducer'\nimport { reducer as kumiteTimerReducer } from './kumiteTimer/reducer'\nimport { Dispatch, Store } from '@reduxjs/toolkit'\nimport { RootState } from './state'\nimport { Actions } from './actions'\nimport { initReactions } from './reactions/actions'\nimport { initPage } from './page/actions'\n\n\nexport const store: Store<RootState, Actions> = configureStore({\n  reducer: combineReducers({\n    kumiteTimer: kumiteTimerReducer,\n    page: pageReducer,\n    reactions: reactionsReducer,\n  }),\n  // to ignore non-serializable Date field\n  middleware: getDefaultMiddleware({\n    serializableCheck: false,\n  }),\n})\n\nstore.dispatch(initReactions())\nstore.dispatch(initPage())\n\nexport type AppDispatch = Dispatch<Actions>\n","import { initialState, State } from './state'\nimport { Actions, INIT_KUMITE_TIMER, SET_KUMITE_TIMER, SET_NOT_ACTUAL_KUMITE_TIMER } from './actions'\n\n\n// eslint-disable-next-line @typescript-eslint/default-param-last\nexport function reducer (state = initialState, action: Actions): State {\n  switch (action.type) {\n    case INIT_KUMITE_TIMER:\n      return {\n        ...action.payload,\n      }\n\n    case SET_KUMITE_TIMER:\n      return {\n        ...state,\n        isActual: true,\n        ...action.payload,\n      }\n\n    case SET_NOT_ACTUAL_KUMITE_TIMER:\n      return {\n        ...state,\n        isActual: false,\n      }\n\n    default:\n      return state\n  }\n}\n","import { initialState, State } from './state'\nimport { Actions, INIT_PAGE, SET_THEME, SET_TRANSLATION } from './actions'\n\n\n// eslint-disable-next-line @typescript-eslint/default-param-last\nexport function reducer (state = initialState, action: Actions): State {\n  switch (action.type) {\n    case INIT_PAGE:\n      return {\n        ...action.payload,\n      }\n\n    case SET_THEME:\n      return {\n        ...state,\n        ...action.payload,\n      }\n\n    case SET_TRANSLATION:\n      return {\n        ...state,\n        ...action.payload,\n      }\n\n    default:\n      return state\n  }\n}\n","import { initialState, State } from './state'\nimport { Actions, INIT_REACTIONS, SET_NOT_ACTUAL_REACTIONS, SET_REACTIONS } from './actions'\n\n\n// eslint-disable-next-line @typescript-eslint/default-param-last\nexport function reducer (state = initialState, action: Actions): State {\n  switch (action.type) {\n    case INIT_REACTIONS:\n      return {\n        ...action.payload,\n      }\n\n    case SET_REACTIONS:\n      return {\n        ...state,\n        isActual: true,\n        ...action.payload,\n      }\n\n    case SET_NOT_ACTUAL_REACTIONS:\n      return {\n        ...state,\n        isActual: false,\n      }\n\n    default:\n      return state\n  }\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport './CheckBox.scss'\n\n\ninterface CheckBoxProps {\n  checked: boolean\n  onChange: (selected: boolean) => void\n}\n\nexport const CheckBox = (props: CheckBoxProps): JSX.Element => {\n  const { checked, onChange } = props\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.checked)\n  }, [onChange])\n\n  return (\n    <input type='checkbox' checked={checked} onChange={handleChange} />\n  )\n}\n","import { TypedUseSelectorHook, useSelector as useReduxSelector } from 'react-redux'\nimport { RootState } from './state'\n\n\nexport const useSelector: TypedUseSelectorHook<RootState> = useReduxSelector\n","import { RootState } from '../state'\nimport { Theme } from '../../types/theme'\nimport { Translation } from '../../logic/translation/translation'\nimport { Language } from '../../logic/translation'\n\n\nexport const selectTheme = (state: RootState): Theme => {\n  return state.page.theme\n}\n\nexport const selectLanguage = (state: RootState): Language => {\n  return state.page.language\n}\n\nexport const selectTranslation = (state: RootState): Translation => {\n  return state.page.translation\n}\n","import { useDispatch as useReduxDispatch } from 'react-redux'\nimport { AppDispatch } from './store'\nimport { AppThunkDispatch } from './thunk'\n\n\nexport const useDispatch = (): AppDispatch => useReduxDispatch<AppDispatch>()\nexport const useThunkDispatch = (): AppThunkDispatch => useReduxDispatch<AppThunkDispatch>()\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport './Select.scss'\n\n\ninterface SelectProps {\n  selected: string\n  values: { value: string, text: string }[]\n  onChange: (value: string) => void\n  id?: string\n  className?: string\n}\n\nexport const Select = (props: SelectProps): JSX.Element => {\n  const { selected, values, onChange, id, className } = props\n\n  return (\n    <select\n      id={id}\n      value={selected}\n      onChange={(e) => onChange(e.target.value)}\n      className={`__select ${className}`}\n    >\n      {values.map(v => <option key={v.value} value={v.value}>{v.text}</option>)}\n    </select>\n  )\n}\n","export interface Config {\n  basename: string\n}\n\nexport const config: Config = {\n  basename: '/online-sensei',\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport './PageHeader.scss'\nimport { CheckBox } from '../../atoms/checkBox/CheckBox'\nimport { useSelector } from '../../../redux/useSelector'\nimport { selectTheme, selectTranslation } from '../../../redux/page/selector'\nimport { useDispatch } from '../../../redux/useDispatch'\nimport { setTheme, setTranslation } from '../../../redux/page/actions'\nimport { Select } from '../../atoms/select/Select'\nimport { getAllTranslations, Language } from '../../../logic/translation'\nimport { config } from '../../../config'\n\n\nexport const PageHeader = (): JSX.Element => {\n  const translation = useSelector(selectTranslation)\n  const theme = useSelector(selectTheme)\n  const [allLanguages] = useState(getAllTranslations)\n\n  const dispatch = useDispatch()\n\n  const handleLanguageChange = useCallback((lang: string) => {\n    dispatch(setTranslation(lang as Language))\n  }, [dispatch])\n\n  const handleThemeChange = useCallback((isDark: boolean) => {\n    dispatch(setTheme(isDark ? 'dark' : 'light'))\n  }, [dispatch])\n\n  return (\n    <header className='page-header'>\n      <Link to={config.basename} className='home-link'>OnlineSensei</Link>\n\n      <div className='lang-settings'>\n        <label>{translation.common.language}:</label>\n        <Select\n          selected={translation.languageShort}\n          values={allLanguages.map(transl => ({ value: transl.languageShort, text: transl.language }))}\n          onChange={handleLanguageChange}\n        />\n      </div>\n\n      <div className='theme-settings'>\n        <label>{translation.common.darkTheme}:</label>\n        <CheckBox checked={theme === 'dark'} onChange={handleThemeChange} />\n      </div>\n    </header>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport './MainPage.scss'\nimport { useSelector } from '../../redux/useSelector'\nimport { selectTranslation } from '../../redux/page/selector'\n\n\nexport const MainPage = (): JSX.Element => {\n  const { mainPage: t } = useSelector(selectTranslation)\n\n  return (\n    <main className='main-page'>\n      <h1>OnlineSensei</h1>\n      <p>{t.appIntroduction}</p>\n\n      <h2>{t.availableFeatures}:</h2>\n\n      <div className='feature-card'>\n        <p className='feature-text'>{t.reactions.annotation}</p>\n        <Link className='feature-link' to='/reactions'>{t.reactions.link}</Link>\n      </div>\n\n      <div className='feature-card'>\n        <p className='feature-text'>{t.kumiteTimer.annotation}</p>\n        <Link className='feature-link' to='/kumite-timer'>{t.kumiteTimer.link}</Link>\n      </div>\n    </main>\n  )\n}\n","import { RootState } from '../state'\nimport { BeepType } from '../../types/beepType'\n\n\nexport const selectReactionsIsActual = (state: RootState): boolean => {\n  return state.reactions.isActual\n}\n\nexport const selectReactionsRounds = (state: RootState): number => {\n  return state.reactions.rounds\n}\n\nexport const selectReactionsSignalDuration = (state: RootState): number => {\n  return state.reactions.signalDuration\n}\n\nexport const selectReactionsMinInterval = (state: RootState): number => {\n  return state.reactions.minInterval\n}\n\nexport const selectReactionsMaxInterval = (state: RootState): number => {\n  return state.reactions.maxInterval\n}\n\nexport const selectReactionsSignalCount = (state: RootState): number => {\n  return state.reactions.signalCount\n}\n\nexport const selectReactionsSignalColors = (state: RootState): string[] => {\n  return state.reactions.signalColors\n}\n\nexport const selectReactionsAudioSound = (state: RootState): BeepType => {\n  return state.reactions.audioSound\n}\n\nexport const selectReactionsAudioVolume = (state: RootState): number => {\n  return state.reactions.audioVolume\n}\n","/**\n * Returns random integer from range <min, max). If min = max, returns min.\n *\n * @param min inclusive lower bound\n * @param max exclusive upper bound\n */\nexport const getRandomInt = (min: number, max: number): number => {\n  if (min === max) {\n    return min\n  }\n\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  return Math.floor(Math.random() * (max - min) + min)\n}\n","import { Func } from '../../utils/function'\n\n\n/**\n * Pausable wrapper of JS setTimeout.\n */\nexport class PausableTimeout {\n  private callback: Func\n  private timeoutTime: number\n  private remainingTime: number\n  private timeoutId: NodeJS.Timeout | undefined\n  private lastStart: number\n\n  constructor (callback: Func, ms: number, start = false) {\n    this.callback = callback\n    this.timeoutTime = ms\n    this.remainingTime = ms\n    this.timeoutId = undefined\n    this.lastStart = 0\n\n    start && this.restart()\n  }\n\n  isRunning (): boolean {\n    return this.timeoutId !== undefined\n  }\n\n  isPaused (): boolean {\n    return this.timeoutId === undefined\n  }\n\n  pause (): void {\n    if (this.timeoutId !== undefined) {\n      clearTimeout(this.timeoutId)\n      this.timeoutId = undefined\n      const now = new Date().getTime()\n      const elapsed = now - this.lastStart\n      this.remainingTime -= elapsed\n    }\n  }\n\n  resume (): void {\n    if (this.timeoutId === undefined) {\n      this.timeoutId = setTimeout(this.callback, this.remainingTime)\n      this.lastStart = new Date().getTime()\n    }\n  }\n\n  restart (newCallback?: Func, newMs?: number): void {\n    if (newCallback !== undefined) {\n      this.callback = newCallback\n    }\n\n    if (newMs !== undefined) {\n      this.timeoutTime = newMs\n    }\n\n    if (this.timeoutId !== undefined) {\n      clearTimeout(this.timeoutId)\n    }\n\n    this.remainingTime = this.timeoutTime\n    this.timeoutId = setTimeout(this.callback, this.timeoutTime)\n    this.lastStart = new Date().getTime()\n  }\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { ReactNode } from 'react'\nimport './Button.scss'\n\n\ninterface ButtonProps {\n  className?: string\n  onClick?: () => void\n  disabled?: boolean\n  children?: ReactNode\n}\n\nexport const Button = (props: ButtonProps): JSX.Element => {\n  const { className, children, ...other } = props\n\n  return (\n    <button className={`__button ${className ?? ''}`} {...other}>\n      {children}\n    </button>\n  )\n}\n","export const playAudio = (file: string, volume = 1): void => {\n  const a = new Audio(file)\n  a.volume = volume\n  a.play().catch(console.error)\n}\n\nexport const loadAudio = (file: string): void => {\n  const a = new Audio(file)\n  a.load()\n}\n","import { loadAudio, playAudio } from './player'\nimport { BEEP_DURATIONS, BeepType, getPreferredDuration, NO_BEEP } from '../../types/beepType'\n\n\nexport const playBeep = (beepType: BeepType, preferredMaxDuration: number, volume = 1): void => {\n  if (beepType === NO_BEEP) {\n    return\n  }\n\n  playAudio(`audio/${beepType}_${getPreferredDuration(beepType, preferredMaxDuration)}ms.mp3`, volume)\n}\n\nexport const preloadBeep = (beepType: BeepType): void => {\n  BEEP_DURATIONS[beepType].forEach(duration => loadAudio(`audio/${beepType}_${duration}ms.mp3`))\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './ReactionsScreen.scss'\nimport { useSelector } from '../../../redux/useSelector'\nimport {\n  selectReactionsAudioSound,\n  selectReactionsAudioVolume,\n  selectReactionsIsActual,\n  selectReactionsMaxInterval,\n  selectReactionsMinInterval,\n  selectReactionsRounds,\n  selectReactionsSignalColors, selectReactionsSignalCount,\n  selectReactionsSignalDuration,\n} from '../../../redux/reactions/selector'\nimport { useDispatch } from '../../../redux/useDispatch'\nimport { setNotActualReactions } from '../../../redux/reactions/actions'\nimport { getRandomInt } from '../../../utils/random'\nimport { PausableTimeout } from '../../../logic/timing/pausableTimeout'\nimport { emptyFunc } from '../../../utils/function'\nimport { Button } from '../../atoms/button/Button'\nimport { playBeep } from '../../../logic/audio/beep'\nimport { selectTranslation } from '../../../redux/page/selector'\n\n\ntype PlayPhase = 'init' | 'start' | 'signal' | 'waiting' | 'finished'\n\nexport const ReactionsScreen = (): JSX.Element | null => {\n  const translation = useSelector(selectTranslation)\n\n  const isActual = useSelector(selectReactionsIsActual)\n  const rounds = useSelector(selectReactionsRounds)\n  const signalDuration = useSelector(selectReactionsSignalDuration)\n  const minInterval = useSelector(selectReactionsMinInterval)\n  const maxInterval = useSelector(selectReactionsMaxInterval)\n  const signalCount = useSelector(selectReactionsSignalCount)\n  const signalColors = useSelector(selectReactionsSignalColors)\n  const audioSound = useSelector(selectReactionsAudioSound)\n  const audioVolume = useSelector(selectReactionsAudioVolume)\n\n  const [round, setRound] = useState(0)\n  const [phase, setPhase] = useState<PlayPhase>('init')\n  const [isPaused, setIsPaused] = useState(false)\n  const [curSignal, setCurSignal] = useState(0)\n  const [timeoutObj] = useState<PausableTimeout>(new PausableTimeout(emptyFunc, 0))\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleTogglePause = useCallback(() => {\n    if (phase === 'finished') {\n      return\n    }\n\n    if (isPaused) {\n      setIsPaused(false)\n      timeoutObj.resume()\n    } else {\n      setIsPaused(true)\n      timeoutObj.pause()\n    }\n  }, [phase, isPaused, setIsPaused, timeoutObj])\n\n  const handleReset = useCallback(() => {\n    setPhase('start')\n    setIsPaused(false)\n    setRound(0)\n  }, [isPaused, setIsPaused, setRound])\n\n  const handleGoBack = useCallback(() => {\n    dispatch(setNotActualReactions())\n  }, [dispatch])\n\n  useEffect(() => {\n    return () => {\n      dispatch(setNotActualReactions())\n      timeoutObj.pause()\n    }\n  }, [])\n\n  useEffect(() => {\n    if (phase === 'start' || phase === 'waiting') {\n      // WAITING phase has started\n      if (round === rounds) {\n        setPhase('finished')\n      } else {\n        timeoutObj.restart(() => {\n          setCurSignal(getRandomInt(0, signalCount))\n          setPhase('signal')\n        }, getRandomInt(minInterval, maxInterval))\n      }\n    } else if (phase === 'signal') {\n      // SIGNAL phase has started\n      playBeep(audioSound, signalDuration, audioVolume)\n      timeoutObj.restart(() => {\n        setRound(prev => prev + 1)\n        setPhase('waiting')\n      }, signalDuration)\n    }\n  }, [phase])\n\n  useEffect(() => {\n    !isActual && history.push('/reactions/set-up')\n  }, [isActual])\n\n  if (!isActual) {\n    return null\n  }\n\n  const { reactions: { playScreen: t }, common: ct } = translation\n\n  const inProgress = phase === 'waiting' || phase === 'signal' || phase === 'start'\n\n  return (\n    <main className='play-reactions'>\n      <h1>{t.heading}</h1>\n      <p>\n        {round < rounds && `${t.round}: ${round + 1}/${rounds}`}\n        {round === rounds && `${ct.finished}!`}\n      </p>\n\n      <div className={`signal-boxes boxes-${signalCount}`}>\n        {signalColors.slice(0, signalCount).map((color, i) => (\n          <div\n            key={i}\n            className='signal-box'\n            style={(phase === 'signal' && curSignal === i) ? { backgroundColor: color } : {}}\n          />\n        ))}\n      </div>\n\n      <div className='buttons'>\n        <Button\n          className={isPaused ? 'green' : 'orange'}\n          onClick={handleTogglePause}\n          disabled={!inProgress}\n        >\n          {isPaused ? ct.resume : ct.pause}\n        </Button>\n        <Button\n          className={phase === 'init' ? 'green' : 'orange'}\n          onClick={handleReset}\n          disabled={inProgress && !isPaused}\n        >\n          {phase === 'init' ? ct.start : ct.reset}\n        </Button>\n        <Button\n          className='orange'\n          onClick={handleGoBack}\n          disabled={inProgress && !isPaused}\n        >\n          {ct.back}\n        </Button>\n      </div>\n    </main>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport './Input.scss'\n\n\ninterface InputProps {\n  type: 'text' | 'number' | 'color' | 'range'\n  value: string | number\n  onChange: (value: string) => void\n  className?: string\n  min?: number\n  max?: number\n  invalid?: boolean\n  errorMessage?: string\n}\n\nexport const Input = (props: InputProps): JSX.Element => {\n  const { className, onChange, invalid, errorMessage, ...other } = props\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.value)\n  }, [onChange])\n\n  return (\n    <div className={`__input-wrapper ${invalid ? 'invalid' : ''}`}>\n      <input className={`__input ${className ?? ''}`} onChange={handleChange} {...other} />\n      {errorMessage && <span className='__input-msg'>{errorMessage}</span>}\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport { Input } from './Input'\nimport { parseIntOrDefault } from '../../../utils/number'\n\n\ninterface InputProps {\n  value: number\n  onChange: (value: number) => void\n  className?: string\n  min?: number\n  max?: number\n  invalid?: boolean\n  errorMessage?: string\n  disabled?: boolean\n}\n\nexport const NumberInput = (props: InputProps): JSX.Element => {\n  const { value, onChange, min, max, ...other } = props\n\n  const handleChange = useCallback((newValue: string) => {\n    let num = (newValue === '') ? 0 : parseIntOrDefault(newValue, value)\n    if (min !== undefined && num < min) {\n      num = min\n    }\n    if (max !== undefined && num > max) {\n      num = max\n    }\n    onChange(num)\n  }, [value, onChange])\n\n  return (\n    <Input type='text' value={value} onChange={handleChange} {...other} />\n  )\n}\n","export const parseIntOrDefault = (str: string, defaultInt: number): number => {\n  const parsed = Number.parseInt(str)\n  return isNaN(parsed) ? defaultInt : parsed\n}\n","import { useEffect, useState } from 'react'\n\n\n/**\n * Custom useState hook extension with auto validity checking after value changes.\n *\n * @return array with value, value setter, and value validity\n */\nconst useValidatedState = <T>(\n  initialValue: T,\n  validator: (value: T) => boolean,\n): [T, (newValue: T) => void, boolean] => {\n  const [value, setValue] = useState(initialValue)\n  const [isValid, setIsValid] = useState(validator(initialValue))\n\n  useEffect(() => {\n    setIsValid(validator(value))\n  }, [validator, value, setIsValid])\n\n  return [value, setValue, isValid]\n}\n\nexport default useValidatedState\n","/**\n * Joins given message-validity pairs into string. When all pairs are valid, returns undefined.\n */\nexport const joinErrorMessages = (messages: [string, boolean][]): string | undefined => {\n  let ret = ''\n  messages.forEach(([msg, valid]) => {\n    if (!valid) {\n      if (ret.length > 0) {\n        ret += '\\n'\n      }\n      ret += msg\n    }\n  })\n  return ret.length > 0 ? ret : undefined\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport './RangeInput.scss'\n\n\ninterface RangeInputProps {\n  value: number\n  onChange: (value: number) => void\n  className?: string\n  min: number\n  max: number\n  disabled?: boolean\n}\n\nexport const RangeInput = (props: RangeInputProps): JSX.Element => {\n  const { onChange, className, ...other } = props\n\n  return (\n    <input\n      className={`__range_input ${className ?? ''}`}\n      type='range'\n      onChange={e => onChange(Number.parseInt(e.target.value))}\n      {...other}\n    />\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"svgg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path0\",\n  d: \"M47.836 50.084 L 35.780 62.668 68.722 95.805 L 101.664 128.942 91.772 139.471 C 82.827 148.992,78.760 150.000,49.274 150.000 L 16.667 150.000 16.667 200.000 L 16.667 250.000 48.898 250.000 L 81.130 250.000 132.231 300.979 L 183.333 351.958 183.333 281.230 L 183.333 210.501 260.398 287.481 L 337.462 364.461 350.972 350.951 L 364.482 337.442 214.554 187.471 C 132.094 104.987,63.562 37.500,62.260 37.500 C 60.958 37.500,54.467 43.163,47.836 50.084 M165.419 65.811 L 149.980 81.622 166.656 97.907 L 183.333 114.191 183.333 82.096 C 183.333 64.443,182.776 50.000,182.096 50.000 C 181.415 50.000,173.910 57.115,165.419 65.811 M310.797 70.436 L 299.075 82.671 311.848 98.627 C 342.102 136.423,354.276 198.338,340.616 244.936 L 334.417 266.082 347.615 278.875 C 365.213 295.930,365.114 295.990,375.345 262.304 C 393.624 202.124,381.864 127.387,346.905 81.564 C 327.415 56.017,325.250 55.350,310.797 70.436 M264.438 116.818 C 254.195 127.510,253.120 130.576,257.498 136.610 C 269.600 153.291,278.990 178.241,279.075 193.946 C 279.184 213.959,308.778 249.042,314.023 235.374 C 324.213 208.819,313.380 149.224,293.013 119.792 C 279.970 100.944,279.676 100.914,264.438 116.818 \",\n  stroke: \"none\",\n  fill: \"#000000\",\n  fillRule: \"evenodd\"\n}));\n\nfunction SvgAudioOff(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"svg\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 400,\n    height: 400,\n    viewBox: \"0, 0, 400,400\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAudioOff);\nexport default __webpack_public_path__ + \"static/media/audio_off.2c544e8d.svg\";\nexport { ForwardRef as ReactComponent };","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { ReactComponent } from '../../assets/svg/audio_off.svg'\nimport { IconPropsWithStroke } from './iconProps'\n\n\nexport const AudioOff = (props: IconPropsWithStroke): JSX.Element => {\n  return <ReactComponent {...props} />\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path0\",\n  d: \"M131.250 100.000 L 81.380 150.000 49.023 150.000 L 16.667 150.000 16.667 200.000 L 16.667 250.000 48.898 250.000 L 81.130 250.000 132.231 300.979 L 183.333 351.958 183.333 200.979 C 183.333 117.941,182.835 50.000,182.227 50.000 C 181.618 50.000,158.678 72.500,131.250 100.000 M310.929 70.298 L 299.339 82.396 313.807 101.350 C 356.784 157.652,355.976 245.107,311.967 300.672 L 298.759 317.349 311.714 330.304 C 324.378 342.968,324.858 343.087,333.120 335.610 C 393.657 280.824,400.454 152.235,346.566 81.227 C 327.480 56.076,325.219 55.383,310.929 70.298 M264.438 116.818 C 254.291 127.410,253.139 130.632,257.365 136.610 C 286.325 177.574,286.662 230.263,258.156 260.605 C 250.078 269.204,250.105 269.301,264.737 283.482 L 279.430 297.723 289.606 285.320 C 324.332 242.994,325.890 167.302,293.013 119.792 C 279.970 100.944,279.676 100.914,264.438 116.818 M218.151 163.542 C 206.992 175.486,206.014 178.452,209.857 188.691 C 212.922 196.858,212.870 203.859,209.681 212.308 C 205.564 223.215,206.417 225.546,218.967 237.710 L 232.785 251.103 241.377 237.010 C 255.348 214.093,248.536 150.000,232.129 150.000 C 231.399 150.000,225.109 156.094,218.151 163.542 \",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgAudioOn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 400,\n    height: 400,\n    viewBox: \"0, 0, 400,400\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAudioOn);\nexport default __webpack_public_path__ + \"static/media/audio_on.2768b73f.svg\";\nexport { ForwardRef as ReactComponent };","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { ReactComponent } from '../../assets/svg/audio_on.svg'\nimport { IconPropsWithStroke } from './iconProps'\n\n\nexport const AudioOn = (props: IconPropsWithStroke): JSX.Element => {\n  return <ReactComponent {...props} />\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback, useState } from 'react'\nimport './VolumeInput.scss'\nimport { RangeInput } from './RangeInput'\nimport { Button } from '../button/Button'\nimport { AudioOff } from '../../icons/AudioOff'\nimport { AudioOn } from '../../icons/AudioOn'\n\n\ninterface VolumeInputProps {\n  value: number\n  onChange: (value: number) => void\n  disabled?: boolean\n  inputClassName?: string\n  buttonClassName?: string\n  wrapperClassName?: string\n}\n\nexport const VolumeInput = (props: VolumeInputProps): JSX.Element => {\n  const { value, onChange, disabled, inputClassName, buttonClassName, wrapperClassName } = props\n  const [lastNonZeroValue, setLastNonZeroValue] = useState(value * 100)\n\n  const handleToggleMuted = useCallback(() => {\n    onChange((value === 0) ? Math.max((lastNonZeroValue / 100), 0.1) : 0)\n  }, [value, onChange, lastNonZeroValue])\n\n  const handleVolumeChange = useCallback((value: number) => {\n    (value > 0) && setLastNonZeroValue(value)\n    onChange(value / 100)\n  }, [onChange, setLastNonZeroValue])\n\n  return (\n    <div className={`__volume_input-wrapper ${wrapperClassName ?? ''}`}>\n      <RangeInput\n        className={inputClassName}\n        value={value * 100} onChange={handleVolumeChange} min={0} max={100}\n        disabled={disabled}\n      />\n      <Button\n        className={`__volume_input-btn ${buttonClassName ?? ''}`}\n        onClick={handleToggleMuted}\n        disabled={disabled}\n      >\n        {value === 0 ? <AudioOff /> : <AudioOn />}\n      </Button>\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport './CounterInput.scss'\nimport { NumberInput } from './NumberInput'\nimport { emptyFunc } from '../../../utils/function'\nimport { Button } from '../button/Button'\n\n\ninterface CounterInputProps {\n  value: number\n  onChange: (value: number) => void\n  inputClassName?: string\n  minusBtnClassName?: string\n  plusBtnClassName?: string\n  min: number\n  max: number\n  disabled?: boolean\n}\n\nexport const CounterInput = (props: CounterInputProps): JSX.Element => {\n  const { value, onChange, inputClassName, minusBtnClassName, plusBtnClassName, min, max, disabled } = props\n\n  const handleChange = useCallback((incr: number) => {\n    const newValue = value + incr\n    if ((min === undefined || newValue >= min) && (max === undefined || newValue <= max)) {\n      onChange(newValue)\n    }\n  }, [value, onChange])\n\n  return (\n    <div className='__counter_input-wrapper'>\n      <Button\n        className={`__counter_input-btn ${minusBtnClassName ?? ''}`}\n        onClick={() => handleChange(-1)}\n        disabled={disabled}\n      >\n        -\n      </Button>\n      <NumberInput\n        className={`__counter_input ${inputClassName ?? ''}`}\n        value={value}\n        onChange={emptyFunc}\n        disabled={disabled}\n      />\n      <Button\n        className={`__counter_input-btn ${plusBtnClassName ?? ''}`}\n        onClick={() => handleChange(1)}\n        disabled={disabled}\n      >\n        +\n      </Button>\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback, useEffect, useState } from 'react'\nimport './ReactionsSetUpScreen.scss'\nimport { useDispatch } from '../../../redux/useDispatch'\nimport { setReactions } from '../../../redux/reactions/actions'\nimport { useHistory } from 'react-router-dom'\nimport { Input } from '../../atoms/input/Input'\nimport { NumberInput } from '../../atoms/input/NumberInput'\nimport { Button } from '../../atoms/button/Button'\nimport { useSelector } from '../../../redux/useSelector'\nimport {\n  selectReactionsAudioSound,\n  selectReactionsAudioVolume,\n  selectReactionsMaxInterval,\n  selectReactionsMinInterval,\n  selectReactionsRounds,\n  selectReactionsSignalColors, selectReactionsSignalCount,\n  selectReactionsSignalDuration,\n} from '../../../redux/reactions/selector'\nimport useValidatedState from '../../../logic/hooks/useValidatedState'\nimport { joinErrorMessages } from '../../../utils/error'\nimport { Select } from '../../atoms/select/Select'\nimport { BEEP_A, BeepType, getBeepName, NO_BEEP } from '../../../types/beepType'\nimport { LIMITS, VALIDATOR } from '../../../redux/reactions/utils'\nimport { preloadBeep } from '../../../logic/audio/beep'\nimport { VolumeInput } from '../../atoms/input/VolumeInput'\nimport { selectTranslation } from '../../../redux/page/selector'\nimport { insertWords } from '../../../logic/translation'\nimport { CounterInput } from '../../atoms/input/CounterInput'\n\n\nexport const ReactionsSetUpScreen = (): JSX.Element => {\n  const translation = useSelector(selectTranslation)\n\n  const initRounds = useSelector(selectReactionsRounds)\n  const initSignalDuration = useSelector(selectReactionsSignalDuration)\n  const initMinInterval = useSelector(selectReactionsMinInterval)\n  const initMaxInterval = useSelector(selectReactionsMaxInterval)\n  const initSignalCount = useSelector(selectReactionsSignalCount)\n  const initSignalColors = useSelector(selectReactionsSignalColors)\n  const initAudioSound = useSelector(selectReactionsAudioSound)\n  const initAudioVolume = useSelector(selectReactionsAudioVolume)\n\n  const [rounds, setRounds, isValidRounds] = useValidatedState(initRounds, VALIDATOR.rounds)\n  const [signal, setSignal, isValidSignal] = useValidatedState(initSignalDuration, VALIDATOR.signalDuration)\n  const [minInterval, setMinInterval, isValidMinInterval] = useValidatedState(initMinInterval, VALIDATOR.minInterval)\n  const [maxInterval, setMaxInterval, isValidMaxInterval] = useValidatedState(initMaxInterval, VALIDATOR.maxInterval)\n  const [isValidIntervalRange, setIsValidIntervalRange] = useState(initMinInterval <= initMaxInterval)\n  const [signalCount, setSignalCount] = useState(initSignalCount)\n  const [signalColors, setSignalColors] = useState(initSignalColors)\n  const [audioSound, setAudioSound] = useState(initAudioSound)\n  const [audioVolume, setAudioVolume] = useState(initAudioVolume)\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleMinIntervalChange = useCallback((newValue: number) => {\n    setMinInterval(newValue)\n    setIsValidIntervalRange(newValue <= maxInterval)\n  }, [maxInterval, setMinInterval, setIsValidIntervalRange])\n\n  const handleMaxIntervalChange = useCallback((newValue: number) => {\n    setMaxInterval(newValue)\n    setIsValidIntervalRange(newValue >= minInterval)\n  }, [minInterval, setMaxInterval, setIsValidIntervalRange])\n\n  const handleSignalColorChange = useCallback((newValue: string, index: number) => {\n    setSignalColors(prevColors => {\n      const newColors = [...prevColors]\n      newColors[index] = newValue\n      return newColors\n    })\n  }, [setSignalColors])\n\n  const handleAudioChange = useCallback((newValue: string) => {\n    preloadBeep(newValue as BeepType)\n    setAudioSound(newValue as BeepType)\n  }, [setAudioSound])\n\n  // TODO - Fix\n  // const handleTryAudio = useCallback(() => {\n  //   console.log(audioSound, 300, audioVolume)\n  //   playBeep(audioSound, 300, audioVolume)\n  // }, [audioSound, audioVolume])\n\n  const handleStart = useCallback(() => {\n    dispatch(setReactions(rounds, signal, minInterval, maxInterval, signalCount, signalColors, audioSound, audioVolume))\n    history.push('/reactions')\n  }, [dispatch, rounds, signal, minInterval, maxInterval, signalCount, signalColors, audioSound, audioVolume])\n\n  const handleBack = useCallback(() => {\n    history.push('/')\n  }, [dispatch])\n\n  useEffect(() => {\n    preloadBeep(initAudioSound)\n  }, [])\n\n  const { reactions: { setUpScreen: t } } = translation\n\n  return (\n    <main className='set-up-reactions'>\n      <h1>{t.heading}</h1>\n\n      <div className='set-up-items'>\n        <div className='set-up-item'>\n          <label>{t.rounds.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={rounds}\n            onChange={setRounds}\n            invalid={!isValidRounds}\n            errorMessage={insertWords(t.rounds.error, LIMITS.rounds.min, LIMITS.rounds.max)}\n          />\n        </div>\n\n        <div className='set-up-item'>\n          <label>{t.signalDuration.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={signal}\n            onChange={setSignal}\n            invalid={!isValidSignal}\n            errorMessage={insertWords(t.signalDuration.error, LIMITS.signalDuration.min, LIMITS.signalDuration.max)}\n          />\n        </div>\n\n        <div className='set-up-item'>\n          <label>{t.minInterval.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={minInterval}\n            onChange={handleMinIntervalChange}\n            invalid={!isValidMinInterval || !isValidIntervalRange}\n            errorMessage={joinErrorMessages([\n              [insertWords(t.minInterval.error, LIMITS.minInterval.min, LIMITS.minInterval.max), isValidMinInterval],\n              [t.minInterval.rangeError, isValidIntervalRange],\n            ])}\n          />\n        </div>\n\n        <div className='set-up-item'>\n          <label>{t.maxInterval.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={maxInterval}\n            onChange={handleMaxIntervalChange}\n            invalid={!isValidMaxInterval || !isValidIntervalRange}\n            errorMessage={joinErrorMessages([\n              [insertWords(t.maxInterval.error, LIMITS.maxInterval.min, LIMITS.maxInterval.max), isValidMaxInterval],\n              [t.maxInterval.rangeError, isValidIntervalRange],\n            ])}\n          />\n        </div>\n\n        <div className='set-up-item'>\n          <label>{t.signalCount.label}:</label>\n          <CounterInput\n            minusBtnClassName='set-up-signal-count-cnt-btn'\n            plusBtnClassName='set-up-signal-count-cnt-btn'\n            value={signalCount}\n            onChange={setSignalCount}\n            min={LIMITS.signalCount.min}\n            max={LIMITS.signalCount.max}\n          />\n        </div>\n\n        {signalColors.slice(0, signalCount).map((color, i) => (\n          <div key={i} className='set-up-item'>\n            <label>{`${t.signalColor.label} ${i + 1}:`}</label>\n            <Input\n              type='color'\n              className='set-up-input'\n              value={color}\n              onChange={color => handleSignalColorChange(color, i)}\n            />\n          </div>\n        ))}\n\n        <div className='set-up-item'>\n          <label>{t.sound.label}:</label>\n          <div className='set-up-volume'>\n            <Select\n              className='set-up-volume-select'\n              selected={audioSound}\n              values={[\n                { value: NO_BEEP, text: t.sound.noAudio },\n                { value: BEEP_A, text: getBeepName(BEEP_A) },\n              ]}\n              onChange={handleAudioChange}\n            />\n            <VolumeInput\n              inputClassName='set-up-volume-input'\n              buttonClassName='set-up-volume-mute'\n              value={audioVolume}\n              onChange={setAudioVolume}\n              disabled={audioSound === NO_BEEP}\n            />\n            {/* <Button\n              className='set-up-volume-try'\n              onClick={handleTryAudio}\n              disabled={audioSound === NO_BEEP}\n            >\n              Try\n            </Button> */}\n          </div>\n        </div>\n      </div>\n\n      <div className='buttons'>\n        <Button\n          className='confirm-btn'\n          onClick={handleStart}\n          disabled={\n            !isValidRounds || !isValidSignal || !isValidMinInterval\n            || !isValidMaxInterval || !isValidIntervalRange\n          }\n        >\n          {translation.common.start}\n        </Button>\n\n        <Button\n          className='back-btn'\n          onClick={handleBack}\n        >\n          {translation.common.back}\n        </Button>\n      </div>\n    </main>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport { ReactionsScreen } from '../../components/reactions/reactionsScreen/ReactionsScreen'\nimport { ReactionsSetUpScreen } from '../../components/reactions/reactionsSetUpScreen/ReactionsSetUpScreen'\n\n\nexport const ReactionsPage = (): JSX.Element => {\n  return (\n    <Switch>\n      <Route path='/reactions/set-up' exact>\n        <ReactionsSetUpScreen />\n      </Route>\n      <Route path='/reactions/set-up/*'>\n        <Redirect to='/reactions/set-up' />\n      </Route>\n      <Route path='/reactions/' exact>\n        <ReactionsScreen />\n      </Route>\n      <Route path='/reactions/*'>\n        <Redirect to='/reactions/' />\n      </Route>\n    </Switch>\n  )\n}\n","import { RootState } from '../state'\n\n\nexport const selectKumiteTimerIsActual = (state: RootState): boolean => {\n  return state.kumiteTimer.isActual\n}\n\nexport const selectKumiteTimerDuration = (state: RootState): number => {\n  return state.kumiteTimer.duration\n}\n\nexport const selectKumiteTimerAtoshibaraku = (state: RootState): number => {\n  return state.kumiteTimer.atoshibaraku\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback } from 'react'\nimport './KumiteTimerSetUpScreen.scss'\nimport { useDispatch } from '../../../redux/useDispatch'\nimport { useHistory } from 'react-router-dom'\nimport { NumberInput } from '../../atoms/input/NumberInput'\nimport { Button } from '../../atoms/button/Button'\nimport { useSelector } from '../../../redux/useSelector'\nimport useValidatedState from '../../../logic/hooks/useValidatedState'\nimport { LIMITS, VALIDATOR } from '../../../redux/kumiteTimer/utils'\nimport { selectTranslation } from '../../../redux/page/selector'\nimport { insertWords } from '../../../logic/translation'\nimport { selectKumiteTimerAtoshibaraku, selectKumiteTimerDuration } from '../../../redux/kumiteTimer/selector'\nimport { setKumiteTimer } from '../../../redux/kumiteTimer/actions'\n\n\nexport const KumiteTimerSetUpScreen = (): JSX.Element => {\n  const translation = useSelector(selectTranslation)\n\n  const initDuration = useSelector(selectKumiteTimerDuration)\n  const initAtoshibaraku = useSelector(selectKumiteTimerAtoshibaraku)\n\n  const [duration, setDuration, isValidDuration] = useValidatedState(initDuration, VALIDATOR.duration)\n  const [atoshibaraku, setAtoshibaraku, isValidAtoshibaraku] = useValidatedState(\n    initAtoshibaraku,\n    VALIDATOR.atoshibaraku,\n  )\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleStart = useCallback(() => {\n    dispatch(setKumiteTimer(duration, atoshibaraku))\n    history.push('/kumite-timer')\n  }, [dispatch, duration, atoshibaraku])\n\n  const handleBack = useCallback(() => {\n    history.push('/')\n  }, [dispatch])\n\n  const { kumiteTimer: { setUpScreen: t } } = translation\n\n  return (\n    <main className='set-up-kumite-timer'>\n      <h1>{t.heading}</h1>\n\n      <div className='set-up-items'>\n        <div className='set-up-item'>\n          <label>{t.duration.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={duration}\n            onChange={setDuration}\n            invalid={!isValidDuration}\n            errorMessage={insertWords(t.duration.error, LIMITS.duration.min, LIMITS.duration.max)}\n          />\n        </div>\n\n        <div className='set-up-item'>\n          <label>{t.atoshibaraku.label}:</label>\n          <NumberInput\n            className='set-up-input'\n            value={atoshibaraku}\n            onChange={setAtoshibaraku}\n            invalid={!isValidAtoshibaraku}\n            errorMessage={insertWords(t.atoshibaraku.error, LIMITS.atoshibaraku.min, LIMITS.atoshibaraku.max)}\n          />\n        </div>\n      </div>\n\n      <div className='buttons'>\n        <Button\n          className='confirm-btn'\n          onClick={handleStart}\n          disabled={!isValidDuration}\n        >\n          {translation.common.start}\n        </Button>\n\n        <Button\n          className='back-btn'\n          onClick={handleBack}\n        >\n          {translation.common.back}\n        </Button>\n      </div>\n    </main>\n  )\n}\n","import { Func } from '../../utils/function'\n\n\n/**\n * Pausable wrapper of JS setInterval.\n */\nexport class PausableInterval {\n  private callback: Func\n  private intervalTime: number\n  private remainingTime: number\n  private timeoutId: NodeJS.Timeout | undefined\n  private intervalId: NodeJS.Timeout | undefined\n  private lastStart: number\n\n  constructor (callback: Func, ms: number, start = false) {\n    this.callback = callback\n    this.intervalTime = ms\n    this.remainingTime = ms\n    this.timeoutId = undefined\n    this.intervalId = undefined\n    this.lastStart = 0\n\n    start && this.restart()\n  }\n\n  isRunning (): boolean {\n    return this.intervalId !== undefined\n  }\n\n  isPaused (): boolean {\n    return this.intervalId === undefined\n  }\n\n  pause (): void {\n    if ((this.intervalId !== undefined) || (this.timeoutId !== undefined)) {\n      this.intervalId !== undefined && clearInterval(this.intervalId)\n      this.timeoutId !== undefined && clearTimeout(this.timeoutId)\n      this.timeoutId = undefined\n      this.intervalId = undefined\n      const now = new Date().getTime()\n      const elapsed = now - this.lastStart\n      this.remainingTime -= elapsed\n    }\n  }\n\n  resume (): void {\n    if ((this.intervalId === undefined) && (this.timeoutId === undefined)) {\n      // sets timeout only to fill remaining time => after that, sets interval in callback\n      this.timeoutId = setTimeout(() => {\n        this.callback()\n        this.restart()\n      }, Math.max(this.remainingTime, 0))\n      this.lastStart = new Date().getTime()\n    }\n  }\n\n  restart (newCallback?: Func, newMs?: number): void {\n    if (newCallback !== undefined) {\n      this.callback = newCallback\n    }\n\n    if (newMs !== undefined) {\n      this.intervalTime = newMs\n    }\n\n    if (this.timeoutId !== undefined) {\n      clearTimeout(this.timeoutId)\n    }\n\n    if (this.intervalId !== undefined) {\n      clearInterval(this.intervalId)\n    }\n\n    this.remainingTime = this.intervalTime\n    this.intervalId = setInterval(() => {\n      this.callback()\n      this.lastStart = new Date().getTime()\n    }, this.intervalTime)\n    this.lastStart = new Date().getTime()\n  }\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport './Fouls.scss'\nimport { Button } from '../../atoms/button/Button'\n\n\ninterface FoulsProps {\n  className?: string\n  isRed: boolean\n  fouls: number\n  onChange: (fouls: number) => void\n}\n\nexport const Fouls = (props: FoulsProps): JSX.Element | null => {\n  const { className, isRed, fouls, onChange } = props\n\n  return (\n    <div className={`__fouls ${isRed ? 'red' : 'blue'} ${className ?? ''}`}>\n      <Button className='fouls__btn' onClick={() => onChange(fouls - 1)}>\n        <span className='fouls__btn__text'>-</span>\n      </Button>\n      <div className={`foul-circle ${fouls >= 1 ? 'checked' : ''}`} />\n      <div className={`foul-circle ${fouls >= 2 ? 'checked' : ''}`} />\n      <div className={`foul-circle ${fouls >= 3 ? 'checked' : ''}`} />\n      <div className={`foul-circle ${fouls >= 4 ? 'checked' : ''}`} />\n      <Button className='fouls__btn' onClick={() => onChange(fouls + 1)}>\n        <span className='fouls__btn__text'>+</span>\n      </Button>\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport './Score.scss'\nimport { Button } from '../../atoms/button/Button'\n\n\ninterface ScoreProps {\n  className?: string\n  isRed: boolean\n  score: number\n  onChange: (score: number) => void\n}\n\nexport const Score = (props: ScoreProps): JSX.Element | null => {\n  const { className, isRed, score, onChange } = props\n\n  return (\n    <div className={`__score ${isRed ? 'red' : 'blue'} ${className ?? ''}`}>\n      <span className='score__value'>{score}</span>\n      <div className='score__btns'>\n        <Button className='score__btn' onClick={() => onChange(0)}>\n          <span className='score__btn__text'>0</span>\n        </Button>\n        <Button className='score__btn' onClick={() => onChange(score - 1)}>\n          <span className='score__btn__text'>-</span>\n        </Button>\n        <Button className='score__btn' onClick={() => onChange(score + 1)}>\n          <span className='score__btn__text'>+</span>\n        </Button>\n      </div>\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport './FighterStats.scss'\nimport { Fouls } from '../fouls/Fouls'\nimport { Score } from '../score/Score'\n\n\ninterface FighterStatsProps {\n  className?: string\n  isRed: boolean\n  score: number\n  foulsOne: number\n  foulsTwo: number\n  onScoreChange: (score: number) => void\n  onFoulsOneChange: (fouls: number) => void\n  onFoulsTwoChange: (fouls: number) => void\n}\n\nexport const FighterStats = (props: FighterStatsProps): JSX.Element | null => {\n  const {\n    className, isRed, score, foulsOne, foulsTwo,\n    onScoreChange, onFoulsOneChange, onFoulsTwoChange,\n  } = props\n\n  return (\n    <section className={`__fighter-stats ${isRed ? 'red' : 'blue'} ${className ?? ''}`}>\n      <Score isRed={isRed} score={score} onChange={onScoreChange} />\n      <Fouls isRed={isRed} fouls={foulsOne} onChange={onFoulsOneChange} />\n      <Fouls isRed={isRed} fouls={foulsTwo} onChange={onFoulsTwoChange} />\n    </section>\n  )\n}\n","import { useCallback, useState } from 'react'\n\n\n/**\n * Custom useState hook extension with auto validity checking and setting only valid values.\n *\n * @return array with value and controlled value setter\n */\nconst useControlledState = <T>(\n  initialValue: T,\n  validator: (value: T) => boolean,\n): [T, (newValue: T) => void] => {\n  const [value, setValue] = useState(initialValue)\n\n  const setControlledValue = useCallback((newValue: T) => {\n    if (validator(newValue)) {\n      setValue(newValue)\n    }\n  }, [validator, setValue])\n\n  return [value, setControlledValue]\n}\n\nexport default useControlledState\n","export const parseTimeFromSeconds = (sec: number): string => {\n  const minutes = Math.floor(sec / 60)\n  const seconds = sec % 60\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport './FightStats.scss'\nimport { Senchu } from '../utils'\nimport { CheckBox } from '../../atoms/checkBox/CheckBox'\nimport { Button } from '../../atoms/button/Button'\nimport { parseTimeFromSeconds } from '../../../utils/time'\nimport { useSelector } from '../../../redux/useSelector'\nimport { selectTranslation } from '../../../redux/page/selector'\n\n\ninterface FightStatsProps {\n  className?: string\n  time: number\n  senchu: Senchu\n  timeButtonsDisabled: boolean\n  onTimeChange: (time: number) => void\n  onTimeReset: () => void\n  onSenchuChange: (senchu: Senchu) => void\n}\n\nexport const FightStats = (props: FightStatsProps): JSX.Element | null => {\n  const { className, time, senchu, timeButtonsDisabled, onTimeChange, onTimeReset, onSenchuChange } = props\n\n  const { common: t } = useSelector(selectTranslation)\n\n  return (\n    <div className={`__fight-stats ${className ?? ''}`}>\n      <span className='fight-stats__time'>{parseTimeFromSeconds(time)}</span>\n\n      <div className='fight-stats__btns'>\n        <Button className='fight-stats__btn reset' onClick={() => onTimeReset()} disabled={timeButtonsDisabled}>\n          <span className='fight-stats__btn__text'>{`${t.reset} ${t.time.toLowerCase()}`}</span>\n        </Button>\n        <Button className='fight-stats__btn' onClick={() => onTimeChange(time - 1)} disabled={timeButtonsDisabled}>\n          <span className='fight-stats__btn__text'>-</span>\n        </Button>\n        <Button className='fight-stats__btn' onClick={() => onTimeChange(time + 1)} disabled={timeButtonsDisabled}>\n          <span className='fight-stats__btn__text'>+</span>\n        </Button>\n      </div>\n\n      <div className='fight-stats__senchu'>\n        <CheckBox checked={senchu === 'RED'} onChange={() => onSenchuChange('RED')} />\n        <span className='fight-stats__senchu__text'>Senchu</span>\n        <CheckBox checked={senchu === 'BLUE'} onChange={() => onSenchuChange('BLUE')} />\n      </div>\n    </div>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './KumiteTimerScreen.scss'\nimport { useSelector } from '../../../redux/useSelector'\nimport { useDispatch } from '../../../redux/useDispatch'\nimport { PausableInterval } from '../../../logic/timing/pausableInterval'\nimport { emptyFunc } from '../../../utils/function'\nimport { Button } from '../../atoms/button/Button'\nimport { selectTranslation } from '../../../redux/page/selector'\nimport {\n  selectKumiteTimerAtoshibaraku,\n  selectKumiteTimerDuration,\n  selectKumiteTimerIsActual,\n} from '../../../redux/kumiteTimer/selector'\nimport { setNotActualKumiteTimer } from '../../../redux/kumiteTimer/actions'\nimport { FighterStats } from '../fighterStats/FighterStats'\nimport useControlledState from '../../../logic/hooks/useControledState'\nimport { Senchu } from '../utils'\nimport { FightStats } from '../fightStats/FightStats'\nimport { LIMITS } from '../../../redux/kumiteTimer/utils'\nimport { playAtoshibaraku, playSignalEnd, preloadKumiteAudio } from '../../../logic/audio/kumite'\n\n\ntype PlayPhase = 'init' | 'fight' | 'finished'\n\nexport const KumiteTimerScreen = (): JSX.Element | null => {\n  const translation = useSelector(selectTranslation)\n\n  const isActual = useSelector(selectKumiteTimerIsActual)\n  const duration = useSelector(selectKumiteTimerDuration)\n  const atoshibaraku = useSelector(selectKumiteTimerAtoshibaraku)\n\n  const [time, setTime] = useState(duration)\n  const [scoreRed, setScoreRed] = useControlledState(0, (value) => value >= 0 && value <= 99)\n  const [foulsOneRed, setFoulsOneRed] = useControlledState(0, (value) => value >= 0 && value <= 4)\n  const [foulsTwoRed, setFoulsTwoRed] = useControlledState(0, (value) => value >= 0 && value <= 4)\n  const [scoreBlue, setScoreBlue] = useControlledState(0, (value) => value >= 0 && value <= 99)\n  const [foulsOneBlue, setFoulsOneBlue] = useControlledState(0, (value) => value >= 0 && value <= 4)\n  const [foulsTwoBlue, setFoulsTwoBlue] = useControlledState(0, (value) => value >= 0 && value <= 4)\n  const [senchu, setSenchu] = useState<Senchu>('NONE')\n\n  // TODO - switch sides\n  // TODO - open in new mirror window\n\n  const [phase, setPhase] = useState<PlayPhase>('init')\n  const [isPaused, setIsPaused] = useState(true)\n  const [timeoutObj] = useState<PausableInterval>(new PausableInterval(emptyFunc, 0))\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleManualTimeChange = useCallback((newTime: number) => {\n    if (newTime >= 0 && newTime <= LIMITS.duration.max) {\n      setTime(newTime)\n    }\n  }, [setTime])\n\n  const handleSenchuChange = useCallback((senchu: Senchu) => {\n    setSenchu(prev => prev === senchu ? 'NONE' : senchu)\n  }, [setSenchu])\n\n  const handleTogglePause = useCallback(() => {\n    if (phase === 'finished') {\n      return\n    }\n\n    if (isPaused) {\n      setIsPaused(false)\n      timeoutObj.resume()\n    } else {\n      setIsPaused(true)\n      timeoutObj.pause()\n    }\n  }, [phase, isPaused, setIsPaused, timeoutObj])\n\n  const handleStart = useCallback(() => {\n    setPhase('fight')\n    setIsPaused(false)\n    setTime(duration)\n    timeoutObj.restart(() => {\n      setTime(prev => prev - 1)\n    }, 1000)\n  }, [isPaused, setIsPaused, setTime])\n\n  const handleReset = useCallback(() => {\n    setPhase('init')\n    setIsPaused(true)\n    setTime(duration)\n    setScoreRed(0)\n    setFoulsOneRed(0)\n    setFoulsTwoRed(0)\n    setScoreBlue(0)\n    setFoulsOneBlue(0)\n    setFoulsTwoBlue(0)\n    timeoutObj.pause()\n  }, [isPaused, setIsPaused, setTime])\n\n  const handleGoBack = useCallback(() => {\n    dispatch(setNotActualKumiteTimer())\n  }, [dispatch])\n\n  useEffect(() => {\n    preloadKumiteAudio()\n    return () => {\n      dispatch(setNotActualKumiteTimer())\n      timeoutObj.pause()\n    }\n  }, [])\n\n  useEffect(() => {\n    if (time === 0) {\n      playSignalEnd()\n      setPhase('finished')\n      timeoutObj.pause()\n    } else if (time === atoshibaraku) {\n      playAtoshibaraku()\n    }\n  }, [time, atoshibaraku])\n\n  useEffect(() => {\n    !isActual && history.push('/kumite-timer/set-up')\n  }, [isActual])\n\n  const renderRedData = useCallback((className: string) => (\n    <FighterStats\n      className={className}\n      isRed={true}\n      score={scoreRed}\n      foulsOne={foulsOneRed}\n      foulsTwo={foulsTwoRed}\n      onScoreChange={setScoreRed}\n      onFoulsOneChange={setFoulsOneRed}\n      onFoulsTwoChange={setFoulsTwoRed}\n    />\n  ), [scoreRed, foulsOneRed, foulsTwoRed])\n\n  const renderBlueData = useCallback((className: string) => (\n    <FighterStats\n      className={className}\n      isRed={false}\n      score={scoreBlue}\n      foulsOne={foulsOneBlue}\n      foulsTwo={foulsTwoBlue}\n      onScoreChange={setScoreBlue}\n      onFoulsOneChange={setFoulsOneBlue}\n      onFoulsTwoChange={setFoulsTwoBlue}\n    />\n  ), [scoreBlue, foulsOneBlue, foulsTwoBlue])\n\n  if (!isActual) {\n    return null\n  }\n\n  const { kumiteTimer: { playScreen: t }, common: ct } = translation\n\n  const dangerousButtonsDisabled = phase === 'fight' && !isPaused\n\n  return (\n    <main className='kumite-timer'>\n      <h1>{t.heading}</h1>\n\n      <div className='timer'>\n        {renderRedData('left-fighter')}\n        <FightStats\n          className='fight-stats'\n          time={time}\n          senchu={senchu}\n          timeButtonsDisabled={dangerousButtonsDisabled}\n          onTimeReset={() => setTime(duration)}\n          onTimeChange={handleManualTimeChange}\n          onSenchuChange={handleSenchuChange}\n        />\n        {renderBlueData('right-fighter')}\n      </div>\n\n      <div className='buttons'>\n        <Button\n          className={isPaused ? 'green' : 'orange'}\n          onClick={handleTogglePause}\n          disabled={phase === 'init' || phase === 'finished'}\n        >\n          {isPaused ? ct.resume : ct.pause}\n        </Button>\n        <Button\n          className={phase === 'init' ? 'green' : 'orange'}\n          onClick={phase === 'init' ? handleStart : handleReset}\n          disabled={dangerousButtonsDisabled}\n        >\n          {phase === 'init' ? ct.start : `${ct.reset} ${ct.fight.toLowerCase()}`}\n        </Button>\n        <Button\n          className='orange'\n          onClick={handleGoBack}\n          disabled={dangerousButtonsDisabled}\n        >\n          {ct.back}\n        </Button>\n      </div>\n    </main>\n  )\n}\n","import { loadAudio, playAudio } from './player'\n\n\nexport const preloadKumiteAudio = (): void => {\n  loadAudio('audio/ATOSHIBARAKU.mp3')\n  loadAudio('audio/SIGNAL_END.mp3')\n}\n\nexport const playAtoshibaraku = (): void => {\n  playAudio('audio/ATOSHIBARAKU.mp3', 1)\n}\n\nexport const playSignalEnd = (): void => {\n  playAudio('audio/SIGNAL_END.mp3', 1)\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport { KumiteTimerSetUpScreen } from '../../components/kumiteTimer/kumiteTimerSetUpScreen/KumiteTimerSetUpScreen'\nimport { KumiteTimerScreen } from '../../components/kumiteTimer/kumiteTimerScreen/KumiteTimerScreen'\n\n\nexport const KumiteTimerPage = (): JSX.Element => {\n  return (\n    <Switch>\n      <Route path='/kumite-timer/set-up' exact>\n        <KumiteTimerSetUpScreen />\n      </Route>\n      <Route path='/kumite-timer/set-up/*'>\n        <Redirect to='/kumite-timer/set-up' />\n      </Route>\n      <Route path='/kumite-timer/' exact>\n        <KumiteTimerScreen />\n      </Route>\n      <Route path='/kumite-timer/*'>\n        <Redirect to='/kumite-timer/' />\n      </Route>\n    </Switch>\n  )\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nimport React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { PageHeader } from './components/common/pageHeader/PageHeader'\nimport { MainPage } from './pages/main/MainPage'\nimport { ReactionsPage } from './pages/reactions/ReactionsPage'\nimport { KumiteTimerPage } from './pages/kumiteTimer/KumiteTimerPage'\nimport { useSelector } from './redux/useSelector'\nimport { selectTheme } from './redux/page/selector'\n\n\nconst App = (): JSX.Element => {\n  const theme = useSelector(selectTheme)\n\n  return (\n    <div className={`app theme theme--${theme}`}>\n      <PageHeader />\n      <Switch>\n        <Route path='/reactions'>\n          <ReactionsPage />\n        </Route>\n        <Route path='/kumite-timer'>\n          <KumiteTimerPage />\n        </Route>\n        <Route path='/' exact>\n          <MainPage />\n        </Route>\n        <Route path='*'>\n          <Redirect to='/' />\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { store } from './redux/store'\nimport { Provider as ReduxProvider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport './styles/global.scss'\nimport { config } from './config'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <BrowserRouter basename={config.basename}>\n        <App />\n      </BrowserRouter>\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}